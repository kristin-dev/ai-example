<div class="analyzer-container">
  <h2>Text Analyzer</h2>
  <ng-container *ngIf="isLoading">
    <div><p class="loading">
      <img src="/Loading_icon2.gif"> This can take some time to load, in the mean time, what's your favorite mom/dad joke?
    </p></div>
  </ng-container>
  <div class="input-section">
    <label for="textInput">Enter text to analyze:</label>
    <textarea
      id="textInput"
      [(ngModel)]="inputText"
      placeholder="Enter your text here..."
      rows="6"
      cols="50"
      class="text-input">
    </textarea>

    <button
      (click)="analyzeText()"
      [disabled]="!inputText.trim() || isLoading"
      class="analyze-btn">
      {{ isLoading ? 'Analyzing...' : 'Analyze Text' }}
    </button>
  </div>

  <div class="results-section" *ngIf="response || error">
    <h3>Results:</h3>

    <div *ngIf="error" class="error">
      <strong>Error:</strong> {{ error }}
    </div>

    <div *ngIf="response && !error" class="response">
      <div class="section" *ngIf="response?.grammar_issues">
        <h4>Grammar Issues:</h4>
        <p>{{ response.grammar_issues }}</p>
      </div>

      <div class="section" *ngIf="response?.punctuation_issues">
        <h4>Punctuation Issues:</h4>
        <p>{{ response.punctuation_issues }}</p>
      </div>

      <div class="section" *ngIf="response?.style_suggestions">
        <h4>Style Suggestions:</h4>
        <p>{{ response.style_suggestions }}</p>
      </div>

      <div class="section" *ngIf="response?.corrected_version">
        <h4>Corrected Version:</h4>
        <p class="corrected-text">{{ response.corrected_version }}</p>
      </div>

      <div class="section" *ngIf="response?.style_enhanced_version">
        <h4>Style Enhanced Version:</h4>
        <p class="enhanced-text">{{ response.style_enhanced_version }}</p>
      </div>
    </div>
  </div>
</div>
